<!DOCTYPE html>
<html>
<head>
  <title>Kiosk - Jungle Queue</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="bg-dark text-light">
<div class="container py-4">
  <h1 class="h4">Kiosk</h1>
  <p>Select your service to get a ticket:</p>
  <select id="service" class="form-select">
    <option value="deposit">Deposit</option>
    <option value="withdrawal">Withdrawal</option>
    <option value="support">Support</option>
  </select>
  <button class="btn btn-success mt-2" onclick="getTicket()">Get Ticket</button>

  <div class="mt-3" id="feedback"></div>
</div>
<script>
function getTicket() {
  const service = document.getElementById("service").value;
  fetch(`/ticket?service=${service}`)
    .then(res => res.json())
    .then(data => {
      const fb = document.getElementById("feedback");
      fb.innerHTML = `<div class="alert alert-success">Your ticket: <strong>${data.ticket}</strong> (${service})</div>`;
    })
    .catch(() => {
      const fb = document.getElementById("feedback");
      fb.innerHTML = `<div class="alert alert-danger">Failed to get ticket. Please try again.</div>`;
    });
}
</script>
</body>
</html>